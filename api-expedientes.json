{
  "apiConfig": {
    "name": "Sistema Mesa de Entrada - API Expedientes",
    "version": "1.0.0",
    "baseUrl": "http://localhost:8082/SAE_MPD3.NETEnvironment/",
    "description": "API para gestión de expedientes del sistema de mesa de entrada",
    "authentication": {
      "type": "GAM",
      "loginUrl": "/auth/login",
      "tokenRefreshUrl": "/auth/refresh",
      "logoutUrl": "/auth/logout",
      "tokenValidationUrl": "/auth/validate"
    },
    "security": {
      "gamIntegration": true,
      "roleBasedAccess": true,
      "permissionLevel": "granular",
      "auditEnabled": true
    }
  },
  "endpoints": {
    "/expedientes": {
      "GET": {
        "description": "Listar expedientes con filtros y paginación",
        "queryParams": {
          "page": "number (default: 1)",
          "limit": "number (default: 20)",
          "estado": "string (enum: draft|active|archived|transferred)",
          "departamento": "string",
          "fechaDesde": "date (ISO 8601)",
          "fechaHasta": "date (ISO 8601)",
          "search": "string",
          "asignado": "string (user ID)"
        },
        "permissions": ["expedientes:read"],
        "responses": {
          "200": {
            "data": ["expedient_object"],
            "pagination": {
              "total": "number",
              "page": "number",
              "limit": "number",
              "totalPages": "number"
            }
          },
          "401": { "error": "Token inválido o expirado" },
          "403": { "error": "Sin permisos para realizar esta acción" }
        }
      },
      "POST": {
        "description": "Crear nuevo expediente",
        "requestBody": {
          "numero": "string (auto-generated if empty)",
          "caratula": "string (required)",
          "iniciador": "string (required)",
          "tipoTramite": "string (required)",
          "departamento": "string (required)",
          "observaciones": "string (optional)",
          "documentos": ["string"]
        },
        "permissions": ["expedientes:create"],
        "responses": {
          "201": { 
            "id": "string", 
            "numero": "string", 
            "message": "Expediente creado exitosamente" 
          },
          "400": { "error": "Datos inválidos", "details": ["string"] },
          "401": { "error": "Token inválido o expirado" },
          "403": { "error": "Sin permisos para realizar esta acción" }
        }
      }
    },
    "/expedientes/{id}": {
      "GET": {
        "description": "Obtener expediente por ID",
        "pathParams": { "id": "string (required)" },
        "permissions": ["expedientes:read"],
        "responses": {
          "200": "expedient_object",
          "404": { "error": "Expediente no encontrado" },
          "401": { "error": "Token inválido o expirado" },
          "403": { "error": "Sin permisos para realizar esta acción" }
        }
      },
      "PUT": {
        "description": "Actualizar expediente",
        "pathParams": { "id": "string (required)" },
        "requestBody": {
          "caratula": "string (optional)",
          "tipoTramite": "string (optional)",
          "departamento": "string (optional)",
          "observaciones": "string (optional)",
          "asignadoA": "string (optional)",
          "prioridad": "string (enum: baja|normal|alta|urgente, optional)"
        },
        "permissions": ["expedientes:update"],
        "responses": {
          "200": { "message": "Expediente actualizado exitosamente" },
          "400": { "error": "Datos inválidos", "details": ["string"] },
          "404": { "error": "Expediente no encontrado" },
          "401": { "error": "Token inválido o expirado" },
          "403": { "error": "Sin permisos para realizar esta acción" }
        }
      },
      "DELETE": {
        "description": "Eliminar expediente (soft delete)",
        "pathParams": { "id": "string (required)" },
        "permissions": ["expedientes:delete"],
        "responses": {
          "200": { "message": "Expediente eliminado exitosamente" },
          "404": { "error": "Expediente no encontrado" },
          "401": { "error": "Token inválido o expirado" },
          "403": { "error": "Sin permisos para realizar esta acción" }
        }
      }
    },
    "/expedientes/{id}/derivar": {
      "POST": {
        "description": "Derivar expediente a otro departamento",
        "pathParams": { "id": "string (required)" },
        "requestBody": {
          "destinatario": "string (required)",
          "observaciones": "string (optional)",
          "urgente": "boolean (default: false)"
        },
        "permissions": ["expedientes:derive"],
        "responses": {
          "200": { 
            "message": "Expediente derivado exitosamente", 
            "derivacionId": "string" 
          },
          "400": { "error": "Datos inválidos", "details": ["string"] },
          "404": { "error": "Expediente no encontrado" },
          "401": { "error": "Token inválido o expirado" },
          "403": { "error": "Sin permisos para realizar esta acción" }
        }
      }
    },
    "/expedientes/{id}/recibir": {
      "POST": {
        "description": "Recibir expediente derivado",
        "pathParams": { "id": "string (required)" },
        "requestBody": {
          "observaciones": "string (optional)"
        },
        "permissions": ["expedientes:receive"],
        "responses": {
          "200": { "message": "Expediente recibido exitosamente" },
          "400": { "error": "Datos inválidos" },
          "404": { "error": "Expediente no encontrado" },
          "401": { "error": "Token inválido o expirado" },
          "403": { "error": "Sin permisos para realizar esta acción" }
        }
      }
    },
    "/expedientes/{id}/archivar": {
      "POST": {
        "description": "Archivar expediente",
        "pathParams": { "id": "string (required)" },
        "requestBody": {
          "motivo": "string (required)",
          "observaciones": "string (optional)"
        },
        "permissions": ["expedientes:archive"],
        "responses": {
          "200": { "message": "Expediente archivado exitosamente" },
          "400": { "error": "Datos inválidos", "details": ["string"] },
          "404": { "error": "Expediente no encontrado" },
          "401": { "error": "Token inválido o expirado" },
          "403": { "error": "Sin permisos para realizar esta acción" }
        }
      }
    },
    "/expedientes/para-recibir": {
      "GET": {
        "description": "Obtener expedientes pendientes de recepción",
        "queryParams": {
          "page": "number (default: 1)",
          "limit": "number (default: 20)"
        },
        "permissions": ["expedientes:receive"],
        "responses": {
          "200": {
            "data": ["expedient_object"],
            "pagination": {
              "total": "number",
              "page": "number",
              "limit": "number",
              "totalPages": "number"
            }
          },
          "401": { "error": "Token inválido o expirado" },
          "403": { "error": "Sin permisos para realizar esta acción" }
        }
      }
    }
  },
  "schemas": {
    "expedient_object": {
      "ExpedienteId": "string",
      "ExpedienteNro": "string",
      "ExpedienteAnio": "number",
      "ExpedienteReferencia": "string",
      "ExpedienteEstado": "string",
      "ExpedienteFecha": "datetime (ISO 8601)",
      "ExpedienteCuerpos": "number",
      "ExpedienteActuaciones": "number",
      "OficinaId": "string",
      "OficinaCodigo": "string",
      "OficinaDescripcion": "string",
      "OficinaTipo": "string",
      "DependenciaId": "string",
      "DependenciaCodigo": "string",
      "DependenciaDescripcion": "string",
      "OrganismoId": "string",
      "OrganismoCodigo": "string",
      "OrganismoDescripcion": "string",
      "ExpOficinaActual": "string"
    },
    "documento_object": {
      "id": "string",
      "filename": "string",
      "url": "string",
      "size": "number",
      "mimeType": "string",
      "uploadedBy": "string",
      "uploadedAt": "datetime (ISO 8601)"
    },
    "actuacion_reference": {
      "id": "string",
      "tipo": "string",
      "status": "string",
      "fechaCreacion": "datetime (ISO 8601)"
    }
  },
  "errorCodes": {
    "400": "Bad Request - Datos inválidos",
    "401": "Unauthorized - Token inválido o expirado",
    "403": "Forbidden - Sin permisos para realizar esta acción",
    "404": "Not Found - Recurso no encontrado",
    "409": "Conflict - Conflicto con estado actual del recurso",
    "422": "Unprocessable Entity - Error de validación",
    "429": "Too Many Requests - Límite de requests excedido",
    "500": "Internal Server Error - Error interno del servidor"
  },
  "commonHeaders": {
    "request": {
      "Authorization": "Bearer {token}",
      "Content-Type": "application/json",
      "Accept": "application/json",
      "X-Request-ID": "string (optional, for tracking)"
    },
    "response": {
      "Content-Type": "application/json",
      "X-Request-ID": "string",
      "X-Rate-Limit-Remaining": "number",
      "X-Rate-Limit-Reset": "datetime (ISO 8601)"
    }
  },
  "pagination": {
    "standardFormat": {
      "page": "number (current page, 1-based)",
      "limit": "number (items per page, max 100)",
      "total": "number (total items)",
      "totalPages": "number",
      "hasNext": "boolean",
      "hasPrev": "boolean"
    }
  },
  "permissions": [
    "expedientes:read",
    "expedientes:create",
    "expedientes:update",
    "expedientes:delete",
    "expedientes:derive",
    "expedientes:receive",
    "expedientes:archive"
  ],
  "examples": {
    "createExpediente": {
      "request": {
        "caratula": "Solicitud de licencia médica - Juan Pérez",
        "iniciador": "Juan Pérez",
        "tipoTramite": "Licencia Médica",
        "departamento": "Recursos Humanos",
        "observaciones": "Adjunta certificado médico por 15 días",
        "documentos": ["doc-123-abc", "doc-456-def"]
      },
      "response": {
        "id": "exp-789-ghi",
        "numero": "EXP-2025-0001",
        "message": "Expediente creado exitosamente"
      }
    },
    "updateExpediente": {
      "request": {
        "asignadoA": "user-456",
        "prioridad": "alta",
        "observaciones": "Requiere atención urgente"
      },
      "response": {
        "message": "Expediente actualizado exitosamente"
      }
    },
    "derivarExpediente": {
      "request": {
        "destinatario": "Departamento Legal",
        "observaciones": "Requiere revisión legal del contrato adjunto",
        "urgente": true
      },
      "response": {
        "message": "Expediente derivado exitosamente",
        "derivacionId": "der-321-xyz"
      }
    }
  }
}
